OCCPUIED the GPU
setting:
Namespace(batch_size=10, caseless=True, change_gold=False, change_prob=1.0, char_dim=30, char_hidden=300, char_layers=1, checkpoint='/auto/nlg-05/huan183/NewBioNer/checkpoints/P1/EXP1/P12_M_nosig_C300_W300_MV0.3', clip_grad=5.0, co_train=False, combine=False, corpus_mask_value=0.0, cost_value=1.0, dev_file=['/auto/nlg-05/huan183/NewBioNer/corpus/train/BC2GM-IOBES/devel.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/BC4CHEMD-IOBES/devel.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/BC5CDR-IOBES/devel.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/NCBI-IOBES/devel.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/JNLPBA-IOBES/devel.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/linnaeus-IOBES/devel.tsv'], dispatch='N21', drop_out=0.5, emb_file='/home/nlg-05/lidong/clean_base/MT_NER/external/embedding/wikipedia-pubmed-and-PMC-w2v.txt', epoch=500, eva_matrix='fa', fine_tune=False, gpu=0, high_way=False, highway_layers=1, idea='P12', lambda0=1, least_iters=50, load_arg='', load_check_point='', load_opt=False, lr=0.01, lr_decay=0.05, mask_value=0.3, max_margin=False, mini_count=5, momentum=0.9, nll_rp=False, patience=30, pickle='/auto/nlg-05/huan183/NewBioNer/pickle', plateau=False, pred_method='M', rand_embedding=False, seed=42, shrink_embedding=True, sigmoid='nosig', small_crf=True, softmax_margin=False, start_epoch=0, stop_on_single=True, test_file=['/auto/nlg-05/huan183/NewBioNer/corpus/train/BC2GM-IOBES/test.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/BC4CHEMD-IOBES/test.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/BC5CDR-IOBES/test.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/NCBI-IOBES/test.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/JNLPBA-IOBES/test.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/linnaeus-IOBES/test.tsv'], train_file=['/auto/nlg-05/huan183/NewBioNer/corpus/train/BC2GM-IOBES/train.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/BC4CHEMD-IOBES/train.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/BC5CDR-IOBES/train.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/NCBI-IOBES/train.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/JNLPBA-IOBES/train.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/linnaeus-IOBES/train.tsv'], unk='unk', update='sgd', word_dim=200, word_hidden=300, word_layers=1)
can_load_check_point:  
can_load_arg:  
load_opt:  False
loading corpus
['/auto/nlg-05/huan183/NewBioNer/corpus/train/BC2GM-IOBES/train.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/BC4CHEMD-IOBES/train.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/BC5CDR-IOBES/train.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/NCBI-IOBES/train.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/JNLPBA-IOBES/train.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/linnaeus-IOBES/train.tsv']
['/auto/nlg-05/huan183/NewBioNer/corpus/train/BC2GM-IOBES/devel.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/BC4CHEMD-IOBES/devel.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/BC5CDR-IOBES/devel.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/NCBI-IOBES/devel.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/JNLPBA-IOBES/devel.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/linnaeus-IOBES/devel.tsv']
['/auto/nlg-05/huan183/NewBioNer/corpus/train/BC2GM-IOBES/test.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/BC4CHEMD-IOBES/test.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/BC5CDR-IOBES/test.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/NCBI-IOBES/test.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/JNLPBA-IOBES/test.tsv', '/auto/nlg-05/huan183/NewBioNer/corpus/train/linnaeus-IOBES/test.tsv']
rebuild_maps
constructing coding table
constructing coding table
constructing coding table
constructing coding table
constructing coding table
constructing coding table
feature size: '21422'
loading embedding
Load from PICKLE
embedding size: '71725'
{'O': 0, 'B-GP': 1, 'I-GP': 2, 'E-GP': 3, 'S-GP': 4, '<start>': 5, '<pad>': 6, 'S-CHEMICAL': 7, 'B-CHEMICAL': 8, 'E-CHEMICAL': 9, 'I-CHEMICAL': 10, 'B-DISEASE': 11, 'E-DISEASE': 12, 'I-DISEASE': 13, 'S-DISEASE': 14, 'B-DNA': 15, 'E-DNA': 16, 'B-CELL_TYPE': 17, 'I-CELL_TYPE': 18, 'E-CELL_TYPE': 19, 'I-DNA': 20, 'S-CELL_TYPE': 21, 'S-DNA': 22, 'S-CELL_LINE': 23, 'B-CELL_LINE': 24, 'E-CELL_LINE': 25, 'I-CELL_LINE': 26, 'B-RNA': 27, 'I-RNA': 28, 'E-RNA': 29, 'S-RNA': 30, 'S-SPECIES': 31, 'B-SPECIES': 32, 'E-SPECIES': 33, 'I-SPECIES': 34}
Statistic:
/auto/nlg-05/huan183/NewBioNer/corpus/train/BC2GM-IOBES/train.tsv 12574
Counter({'O': 318104, 'I-GP': 13418, 'B-GP': 8686, 'E-GP': 8686, 'S-GP': 6511})
/auto/nlg-05/huan183/NewBioNer/corpus/train/BC4CHEMD-IOBES/train.tsv 30682
Counter({'O': 826726, 'I-CHEMICAL': 27013, 'S-CHEMICAL': 20747, 'B-CHEMICAL': 8731, 'E-CHEMICAL': 8731})
/auto/nlg-05/huan183/NewBioNer/corpus/train/BC5CDR-IOBES/train.tsv 4560
Counter({'O': 103967, 'S-CHEMICAL': 4426, 'S-DISEASE': 2408, 'B-DISEASE': 1774, 'E-DISEASE': 1774, 'I-DISEASE': 1144, 'I-CHEMICAL': 1123, 'B-CHEMICAL': 777, 'E-CHEMICAL': 777})
/auto/nlg-05/huan183/NewBioNer/corpus/train/NCBI-IOBES/train.tsv 5424
Counter({'O': 124452, 'I-DISEASE': 3239, 'B-DISEASE': 2876, 'E-DISEASE': 2876, 'S-DISEASE': 2258})
/auto/nlg-05/huan183/NewBioNer/corpus/train/JNLPBA-IOBES/train.tsv 18534
Counter({'O': 345736, 'S-GP': 16012, 'B-GP': 11791, 'E-GP': 11791, 'I-GP': 10646, 'I-DNA': 7408, 'B-DNA': 6660, 'E-DNA': 6660, 'B-CELL_TYPE': 4612, 'E-CELL_TYPE': 4612, 'I-CELL_LINE': 3707, 'I-CELL_TYPE': 3520, 'B-CELL_LINE': 2912, 'E-CELL_LINE': 2912, 'S-DNA': 1821, 'S-CELL_TYPE': 1580, 'B-RNA': 731, 'E-RNA': 731, 'I-RNA': 617, 'S-CELL_LINE': 518, 'S-RNA': 113})
/auto/nlg-05/huan183/NewBioNer/corpus/train/linnaeus-IOBES/train.tsv 11935
Counter({'O': 277701, 'S-SPECIES': 1471, 'B-SPECIES': 648, 'E-SPECIES': 648, 'I-SPECIES': 492})

/auto/nlg-05/huan183/NewBioNer/corpus/train/BC2GM-IOBES/devel.tsv 2519
Counter({'O': 63544, 'I-GP': 2710, 'B-GP': 1727, 'E-GP': 1727, 'S-GP': 1334})
/auto/nlg-05/huan183/NewBioNer/corpus/train/BC4CHEMD-IOBES/devel.tsv 30639
Counter({'O': 822028, 'I-CHEMICAL': 26182, 'S-CHEMICAL': 20858, 'B-CHEMICAL': 8628, 'E-CHEMICAL': 8628})
/auto/nlg-05/huan183/NewBioNer/corpus/train/BC5CDR-IOBES/devel.tsv 4581
Counter({'O': 103389, 'S-CHEMICAL': 4622, 'S-DISEASE': 2513, 'B-DISEASE': 1733, 'E-DISEASE': 1733, 'I-CHEMICAL': 1023, 'I-DISEASE': 990, 'B-CHEMICAL': 725, 'E-CHEMICAL': 725})
/auto/nlg-05/huan183/NewBioNer/corpus/train/NCBI-IOBES/devel.tsv 923
Counter({'O': 22092, 'I-DISEASE': 586, 'B-DISEASE': 504, 'E-DISEASE': 504, 'S-DISEASE': 283})
/auto/nlg-05/huan183/NewBioNer/corpus/train/JNLPBA-IOBES/devel.tsv 1932
Counter({'O': 37227, 'B-GP': 1293, 'E-GP': 1293, 'S-GP': 1173, 'I-GP': 1118, 'I-DNA': 881, 'B-DNA': 825, 'E-DNA': 825, 'I-CELL_LINE': 429, 'B-CELL_TYPE': 400, 'E-CELL_TYPE': 400, 'B-CELL_LINE': 339, 'E-CELL_LINE': 339, 'S-DNA': 227, 'I-CELL_TYPE': 216, 'S-CELL_TYPE': 126, 'B-RNA': 92, 'E-RNA': 92, 'I-RNA': 90, 'S-CELL_LINE': 61, 'S-RNA': 15})
/auto/nlg-05/huan183/NewBioNer/corpus/train/linnaeus-IOBES/devel.tsv 4078
Counter({'O': 92751, 'S-SPECIES': 520, 'B-SPECIES': 191, 'E-SPECIES': 191, 'I-SPECIES': 162})

/auto/nlg-05/huan183/NewBioNer/corpus/train/BC2GM-IOBES/test.tsv 5038
Counter({'O': 128364, 'I-GP': 5273, 'B-GP': 3503, 'E-GP': 3503, 'S-GP': 2822})
/auto/nlg-05/huan183/NewBioNer/corpus/train/BC4CHEMD-IOBES/test.tsv 26364
Counter({'O': 711171, 'I-CHEMICAL': 22246, 'S-CHEMICAL': 18076, 'B-CHEMICAL': 7270, 'E-CHEMICAL': 7270})
/auto/nlg-05/huan183/NewBioNer/corpus/train/BC5CDR-IOBES/test.tsv 4797
Counter({'O': 110576, 'S-CHEMICAL': 4741, 'S-DISEASE': 2666, 'B-DISEASE': 1758, 'E-DISEASE': 1758, 'I-CHEMICAL': 984, 'I-DISEASE': 979, 'B-CHEMICAL': 644, 'E-CHEMICAL': 644})
/auto/nlg-05/huan183/NewBioNer/corpus/train/NCBI-IOBES/test.tsv 940
Counter({'O': 22450, 'I-DISEASE': 550, 'B-DISEASE': 537, 'E-DISEASE': 537, 'S-DISEASE': 423})
/auto/nlg-05/huan183/NewBioNer/corpus/train/JNLPBA-IOBES/test.tsv 4243
Counter({'O': 81647, 'S-GP': 2708, 'I-GP': 2415, 'B-GP': 2359, 'E-GP': 2359, 'I-CELL_TYPE': 1532, 'B-CELL_TYPE': 1459, 'E-CELL_TYPE': 1459, 'I-DNA': 939, 'B-DNA': 850, 'E-DNA': 850, 'I-CELL_LINE': 563, 'S-CELL_TYPE': 462, 'B-CELL_LINE': 426, 'E-CELL_LINE': 426, 'S-DNA': 206, 'B-RNA': 102, 'E-RNA': 102, 'I-RNA': 85, 'S-CELL_LINE': 74, 'S-RNA': 16})
/auto/nlg-05/huan183/NewBioNer/corpus/train/linnaeus-IOBES/test.tsv 7142
Counter({'O': 162421, 'S-SPECIES': 986, 'B-SPECIES': 447, 'E-SPECIES': 447, 'I-SPECIES': 352})

constructing dataset
corpus_missing_tagspace [[7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34], [1, 2, 3, 4, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34], [1, 2, 3, 4, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34], [1, 2, 3, 4, 7, 8, 9, 10, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34], [7, 8, 9, 10, 11, 12, 13, 14, 31, 32, 33, 34], [1, 2, 3, 4, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]]
corpus2crf {0: 0, 1: 0, 2: 0, 3: 0, 4: 0, 5: 0}
corpus_str2crf {'7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34': [0], '1 2 3 4 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34': [0], '1 2 3 4 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34': [0], '1 2 3 4 7 8 9 10 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34': [0], '7 8 9 10 11 12 13 14 31 32 33 34': [0], '1 2 3 4 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30': [0]}
/auto/nlg-05/huan183/NewBioNer/corpus/train/BC2GM-IOBES/train.tsv -> CRF:  0
/auto/nlg-05/huan183/NewBioNer/corpus/train/BC4CHEMD-IOBES/train.tsv -> CRF:  0
/auto/nlg-05/huan183/NewBioNer/corpus/train/BC5CDR-IOBES/train.tsv -> CRF:  0
/auto/nlg-05/huan183/NewBioNer/corpus/train/NCBI-IOBES/train.tsv -> CRF:  0
/auto/nlg-05/huan183/NewBioNer/corpus/train/JNLPBA-IOBES/train.tsv -> CRF:  0
/auto/nlg-05/huan183/NewBioNer/corpus/train/linnaeus-IOBES/train.tsv -> CRF:  0
crf2corpus {0: [0, 1, 2, 3, 4, 5]}
Load from PICKLE
Up round by batch size
combined train[idx/len]:  {0: 83730}
Load from PICKLE
combined dev[idx/len]:  {0: 44700}
Load from PICKLE
peek cropus mask

    1     1     1  ...      0     0     0
    1     1     1  ...      0     0     0
    1     1     1  ...      0     0     0
       ...          ⋱          ...       
    0     0     0  ...      0     0     0
    0     0     0  ...      0     0     0
    0     0     0  ...      0     0     0
[torch.FloatTensor of size 35x35]

building model
inin char embed
LM_LSTM_CRF(
  (char_embeds): Embedding(97, 30)
  (forw_char_lstm): LSTM(30, 300, dropout=0.5)
  (back_char_lstm): LSTM(30, 300, dropout=0.5)
  (word_embeds): Embedding(71725, 200)
  (word_lstm): LSTM(800, 150, dropout=0.5, bidirectional=True)
  (dropout): Dropout(p=0.5)
  (crflist): ModuleList(
    (0): CRF_L(
      (transitions): Linear(in_features=300, out_features=1225, bias=True)
      (hidden2tag): Linear(in_features=300, out_features=35, bias=True)
      (ReLU): ReLU()
      (Sigmoid): Sigmoid()
    )
  )
  (char_pre_train_out): Linear(in_features=300, out_features=97, bias=True)
  (word_pre_train_out): Linear(in_features=300, out_features=71725, bias=True)
)
tagset_size:  35

Objective Function: Negative Log Liklihood
Epoch: [1/500]
Train corpus:  ['BC2GM-IOBES', 'BC4CHEMD-IOBES', 'BC5CDR-IOBES', 'NCBI-IOBES', 'JNLPBA-IOBES', 'linnaeus-IOBES']
 - Total it 8373: 0it [00:00, ?it/s]